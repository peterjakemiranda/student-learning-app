"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[967],{6523:(t,e,a)=>{a.d(e,{Z:()=>P});var i=a(5474);const s=(t,{data:e})=>{t(e)},n=(t,e)=>{e(t)},o=t=>new Promise(((e,a)=>{i.axios.request({url:"/api/sections",data:t,method:"post"}).then((t=>{s(e,t)})).catch((t=>{n(t.response.data,a)}))})),l=(t,e)=>{e(t)},r=(t,e)=>{e(t)},c=(t,e)=>new Promise(((a,s)=>{i.axios.request({url:`/api/sections/${t}`,data:e,method:"put"}).then((t=>{l(t.data,a)})).catch((t=>{r(t.response.data,s)}))}));var d=a(8938),p=a(5314),u=a(3305);const h=({data:t},e,a)=>{const i=t,s=p.Z.fetch(t.pagination);d["default"].dispatch("fetchSections",{sections:i,pagination:s}),a({sections:i,pagination:s})},m=(t,e)=>e(t),f=(t={})=>new Promise(((e,a)=>{i.axios.get(u.Z.buildUrl("/api/sections",t)).then((a=>{h(a,t,e)})).catch((t=>{m(t,a)}))})),g=({data:t},e)=>{d["default"].dispatch("fetchAllSections",t),e(t)},w=(t,e)=>e(t),_=(t=null)=>new Promise(((e,a)=>{i.axios.get(null===t?"/api/sections":`/api/sections?course_id=${t}`).then((t=>{g(t,e)})).catch((t=>{w(t,a)}))})),b=(t,e)=>{e(t)},k=(t,e)=>{e(t)},q=t=>new Promise(((e,a)=>{i.axios.get(`/api/sections/${t}`).then((t=>{b(t.data,e)})).catch((t=>{k(t.response.data,a)}))})),y=({data:t},e)=>{d["default"].dispatch("fetchSearchResults",t),e(t)},x=(t,e)=>e(t),Z=(t="")=>new Promise(((e,a)=>{i.axios.get(`/api/sections?search=${t}`).then((t=>{y(t,e)})).catch((t=>{x(t,a)}))})),$=(t,e,a)=>{_(a),e(t)},C=(t,e)=>{e(t)},v=(t,e)=>new Promise(((a,s)=>{i.axios["delete"](`/api/sections/${t}`).then((t=>{$(t.data,a,e)})).catch((t=>{C(t.response.data,s)}))})),P={store:o,update:c,items:f,all:_,show:q,search:Z,destroy:v}},5314:(t,e,a)=>{a.d(e,{Z:()=>s});class i{static fetchCollection(t){return t.map((t=>this.fetch(t)))}static sendCollection(t){return t.map((t=>this.send(t)))}}class s extends i{static fetch(t){return{currentPage:t.current_page,lastPage:t.last_page,limit:t.limit,totalCount:t.total_count,counters:t.counters}}static send(t){return{current_page:t.currentPage,last_page:t.lastPage,limit:t.limit,total_count:t.totalCount}}}},3305:(t,e,a)=>{a.d(e,{Z:()=>i});const i={buildUrl(t,e){let a="?";const i=Object.keys(e).filter((t=>e[t]));return i.forEach(((t,s)=>{a+=`${t}=${e[t]}`,s<i.length-1&&(a+="&")})),`${t}${a}`},debounce(t,e){var a=null;return function(){clearTimeout(a);var i=arguments,s=this;a=setTimeout((function(){t.apply(s,i)}),e)}}}},5967:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var i=a(3673),s=a(2323),n=a(8880);const o={class:"q-pa-md q-gutter-md"},l={key:0,class:"text-h5 q-mb-md",style:{"padding-top":"48px"}},r={class:"q-gutter-sm"},c=(0,i.Uk)(" Edit "),d=(0,i.Uk)(" Delete ");function p(t,e,a,p,u,h){const m=(0,i.up)("q-breadcrumbs-el"),f=(0,i.up)("q-breadcrumbs"),g=(0,i.up)("q-page-sticky"),w=(0,i.up)("q-btn"),_=(0,i.up)("q-item-label"),b=(0,i.up)("q-item-section"),k=(0,i.up)("q-tooltip"),q=(0,i.up)("q-item"),y=(0,i.up)("q-list"),x=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(g,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{to:"/admin/courses",icon:"keyboard_arrow_left",label:"All Courses"}),t.currentCourse?((0,i.wg)(),(0,i.j4)(m,{key:0,icon:"local_library",label:`${t.currentCourse.title} Sections`},null,8,["label"])):(0,i.kq)("",!0)])),_:1})])),_:1}),t.currentCourse?((0,i.wg)(),(0,i.iD)("div",l,(0,s.zw)(t.currentCourse.title),1)):(0,i.kq)("",!0),(0,i.Wm)(w,{to:`/admin/courses/${t.$route.params.course_id}/sections/create`,color:"primary",icon:"add",label:"Create Section"},null,8,["to"]),(0,i.Wm)(y,{padding:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.sections,(e=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(q,{key:e.id},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,{lines:"1"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.title),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(b,{side:""},{default:(0,i.w5)((()=>[(0,i._)("div",r,[(0,i.Wm)(w,{flat:"",round:"",size:"12px",icon:"edit",to:`/admin/courses/${t.$route.params.course_id}/sections/${e.id}/edit`},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{anchor:"top middle",self:"bottom middle"},{default:(0,i.w5)((()=>[c])),_:1})])),_:2},1032,["to"]),(0,i.Wm)(w,{flat:"",round:"",size:"12px",icon:"delete",onClick:(0,n.iM)((a=>t.remove(e)),["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{anchor:"top middle",self:"bottom middle"},{default:(0,i.w5)((()=>[d])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1536)),[[x]]))),128))])),_:1})])}var u=a(7874),h=a(6523);const m=(0,i.aZ)({name:"AdminSectionIndex",data(){return{title:""}},computed:{...(0,u.Se)({courses:"allCourses",sections:"allSections"}),currentCourse(){return this.courses.find((t=>+t.id===+this.$route.params.course_id))}},mounted(){h.Z.all(this.$route.params.course_id).then((t=>{this.loading=!1})).catch((t=>{this.loading=!1}))},methods:{onReset(){},remove(t){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this section?",cancel:!0,persistent:!0}).onOk((()=>{h.Z.destroy(t.id,t.course_id).then((t=>{this.loading=!1})).catch((t=>{this.loading=!1}))}))}}});var f=a(1007),g=a(1481),w=a(5926),_=a(2165),b=a(7011),k=a(3414),q=a(2035),y=a(2350),x=a(8870),Z=a(6489),$=a(7518),C=a.n($);m.render=p;const v=m;C()(m,"components",{QPageSticky:f.Z,QBreadcrumbs:g.Z,QBreadcrumbsEl:w.Z,QBtn:_.Z,QList:b.Z,QItem:k.Z,QItemSection:q.Z,QItemLabel:y.Z,QTooltip:x.Z}),C()(m,"directives",{Ripple:Z.Z})}}]);