"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[590],{4590:(e,l,t)=>{t.r(l),t.d(l,{default:()=>g});t(246);var s=t(3673),i=t(2323);const u={class:"q-pa-md"},o={class:"text-h5 q-py-md"},r={class:"q-gutter-lg q-pa-lg"};function a(e,l,t,a,d,n){const c=(0,s.up)("q-input"),p=(0,s.up)("q-btn"),h=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",o,(0,i.zw)(e.id?"Update":"Create")+" Course",1),(0,s.Wm)(h,{onSubmit:e.onSubmit,class:"q-gutter-md",style:{"max-width":"800px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:e.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.title=l),label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Title is required"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:e.course_code,"onUpdate:modelValue":l[1]||(l[1]=l=>e.course_code=l),label:"Course Code","lazy-rules":"",rules:[e=>e&&e.length>0||"Course code is required"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:e.period,"onUpdate:modelValue":l[2]||(l[2]=l=>e.period=l),label:"Period","lazy-rules":"",rules:[e=>e&&e.length>0||"Period is required"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:e.virtual_class_link,"onUpdate:modelValue":l[3]||(l[3]=l=>e.virtual_class_link=l),label:"Virtual Class Link"},null,8,["modelValue"]),(0,s.Wm)(c,{modelValue:e.description,"onUpdate:modelValue":l[4]||(l[4]=l=>e.description=l),filled:"",label:"Description",type:"textarea"},null,8,["modelValue"]),(0,s._)("div",r,[(0,s.Wm)(p,{label:"Submit",type:"submit",color:"primary"}),(0,s.Wm)(p,{label:"Back",type:"submit",to:"/courses"})])])),_:1},8,["onSubmit"])])}t(71);var d=t(2176),n=t(7874),c=t(1173);const p=(0,s.aZ)({name:"AdminCourseForm",data(){return{id:"",title:"",course_code:"",period:"",virtual_class_link:"",description:""}},computed:{...(0,n.Se)({course:"currentCourse",sections:"allCourses"})},mounted(){this.loading=!0,this.$route.params.id&&d.Z.show(this.$route.params.id).then((e=>{c["default"].dispatch("setCurrentCourse",e),this.loading=!1})).catch((e=>{this.loading=!1}))},methods:{onSubmit(){const e={title:this.title,course_code:this.course_code,period:this.period,description:this.description,virtual_class_link:this.virtual_class_link},l=this.id?d.Z.update(this.id,e):d.Z.store(e);Promise.all([l]).then((e=>{this.loading=!1,this.$q.dialog({message:this.id?`Successfully updated course ${this.course.title}.`:"Successfully created course!"}).onOk((()=>{this.id=null,this.title=null,this.course_code=null,this.period=null,this.description=null,this.virtual_class_link=null,this.$router.push("/courses")}))})).catch((e=>{this.loading=!1}))},setValues(e){this.id=e.id,this.title=e.title,this.course_code=e.course_code,this.period=e.period,this.virtual_class_link=e.virtual_class_link,this.description=e.description}},watch:{course(e){e&&this.setValues(e)}}});var h=t(5269),m=t(4689),_=t(2165),V=t(7518),b=t.n(V);p.render=a;const g=p;b()(p,"components",{QForm:h.Z,QInput:m.Z,QBtn:_.Z})}}]);