"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[747],{4747:(e,t,s)=>{s.r(t),s.d(t,{default:()=>V});var i=s(3673),l=s(2323);const u={class:"q-pa-sm"},o={class:"text-h5 q-mb-lg q-pt-xl q-pb-xs"},a={key:0,class:"text-center"},r={key:1},d={class:"q-gutter-md q-ml-none",style:{"max-width":"400px"}},n={class:"q-pa-sm q-pt-xs"},p=(0,i._)("span",{class:"label q-pt-md q-pb-sm"},"Instructions:",-1),c={class:"q-gutter-lg q-pa-lg"};function m(e,t,s,m,h,b){const q=(0,i.up)("q-breadcrumbs-el"),g=(0,i.up)("q-breadcrumbs"),y=(0,i.up)("q-page-sticky"),w=(0,i.up)("q-spinner-hourglass"),z=(0,i.up)("q-input"),f=(0,i.up)("q-editor"),v=(0,i.up)("q-btn"),x=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(y,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,i.w5)((()=>{var t;return[e.course?((0,i.wg)(),(0,i.j4)(q,{key:0,to:`/courses/${e.course.id}/quizzes`,label:(null===(t=e.course)||void 0===t?void 0:t.title)||"Course"},null,8,["to","label"])):(0,i.kq)("",!0),(0,i.Wm)(q,{icon:"description",label:"Create Quiz"})]})),_:1})])),_:1}),(0,i._)("div",o,(0,l.zw)(e.id?"Update":"Create")+" Quiz",1),e.loading?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(w,{color:"primary",size:"2em"})])):((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(x,{onSubmit:e.onSubmit,class:"q-gutter-md",style:{"max-width":"800px"}},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.Wm)(z,{filled:"",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Please input title"]},null,8,["modelValue","rules"]),(0,i.Wm)(z,{filled:"",modelValue:e.points,"onUpdate:modelValue":t[1]||(t[1]=t=>e.points=t),label:"Points","lazy-rules":"",rules:[e=>e&&e>0||"Please input score"]},null,8,["modelValue","rules"])]),(0,i._)("div",n,[p,(0,i.Wm)(f,{modelValue:e.body,"onUpdate:modelValue":t[2]||(t[2]=t=>e.body=t),filled:"",label:"Body *","lazy-rules":"",rules:[e=>e&&e.length>0||"Content is required"]},null,8,["modelValue","rules"])]),(0,i._)("div",c,[(0,i.Wm)(v,{label:"Save",type:"submit",color:"primary"}),e.course?((0,i.wg)(),(0,i.j4)(v,{key:0,label:"Back",type:"submit",to:`/courses/${e.course.id}/quizzes`},null,8,["to"])):(0,i.kq)("",!0)])])),_:1},8,["onSubmit"])]))])}s(71);var h=s(7874),b=s(2176),q=s(773),g=s(1173);const y=(0,i.aZ)({name:"ViewQuiz",data(){return{loading:!1,id:"",title:"",points:"",body:"",file:null}},computed:{...(0,h.Se)({courses:"allCourses",course:"currentCourse",isTeacher:"isTeacher"})},mounted(){const e=this.$route.params.quiz_id?[q.Z.show(this.$route.params.quiz_id)]:[];this.course||e.push(b.Z.show(this.$route.params.id)),this.loading=!0,Promise.all(e).then((e=>{if(this.$route.params.quiz_id&&e[0]){const t=e[0];this.id=t.id,this.title=t.title,this.points=t.points,this.body=t.body}this.course||g["default"].dispatch("setCurrentCourse",e[1]),this.loading=!1})).catch((e=>{this.loading=!1}))},methods:{onSubmit(){const e=new FormData;e.append("title",this.title),e.append("points",this.points),e.append("body",this.body),e.append("course_id",this.course.id);const t=this.id?q.Z.update(this.id,e):q.Z.store(e);Promise.all([t]).then((e=>{this.loading=!1,this.$router.push(this.id?`/courses/${this.course.id}/quizzes`:`/courses/${this.course.id}/quizzes/${e[0].id}`)})).catch((e=>{this.loading=!1}))}}});var w=s(1007),z=s(1481),f=s(5926),v=s(3282),x=s(5269),_=s(4689),k=s(9991),Z=s(2165),Q=s(7518),C=s.n(Q);y.render=m;const V=y;C()(y,"components",{QPageSticky:w.Z,QBreadcrumbs:z.Z,QBreadcrumbsEl:f.Z,QSpinnerHourglass:v.Z,QForm:x.Z,QInput:_.Z,QEditor:k.Z,QBtn:Z.Z})}}]);