"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[493],{5493:(e,t,l)=>{l.r(t),l.d(t,{default:()=>W});var s=l(3673),i=l(2323);const o={class:"q-pa-sm"},n={class:"text-h5 q-mb-lg q-pt-xl q-pb-xs"},u={key:0,class:"text-center"},a={key:1},r=(0,s._)("span",{class:"label q-mt-lg block"},"Announcement:",-1),d={class:"q-gutter-lg q-pa-lg"};function c(e,t,l,c,m,p){const b=(0,s.up)("q-breadcrumbs-el"),h=(0,s.up)("q-breadcrumbs"),g=(0,s.up)("q-page-sticky"),y=(0,s.up)("q-spinner-hourglass"),q=(0,s.up)("q-input"),w=(0,s.up)("q-editor"),f=(0,s.up)("q-btn"),v=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(g,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,s.w5)((()=>{var t,l;return[(0,s.Wm)(b,{to:`/courses/${null===(t=e.course)||void 0===t?void 0:t.id}/activities`,label:(null===(l=e.course)||void 0===l?void 0:l.title)||"Course"},null,8,["to","label"]),(0,s.Wm)(b,{icon:"description",label:"Create Announcement"})]})),_:1})])),_:1}),(0,s._)("div",n,(0,i.zw)(e.id?"Update":"Create")+" Announcement",1),e.loading?((0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(y,{color:"primary",size:"2em"})])):((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(v,{onSubmit:e.onSubmit,class:"q-gutter-md",style:{"max-width":"800px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{filled:"",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),label:"Title (Optional)"},null,8,["modelValue"]),r,(0,s.Wm)(w,{modelValue:e.body,"onUpdate:modelValue":t[1]||(t[1]=t=>e.body=t),filled:"",label:"Body *","lazy-rules":"",rules:[e=>e&&e.length>0||"Content is required"]},null,8,["modelValue","rules"]),(0,s._)("div",d,[(0,s.Wm)(f,{label:"Submit",type:"submit",color:"primary"}),e.course?((0,s.wg)(),(0,s.j4)(f,{key:0,label:"Back",type:"submit",to:`/courses/${e.course.id}/announcements`},null,8,["to"])):(0,s.kq)("",!0)])])),_:1},8,["onSubmit"])]))])}var m=l(7874),p=l(2176),b=l(3930),h=l(1173);const g=(0,s.aZ)({name:"ViewActivity",data(){return{loading:!1,id:"",title:"",body:""}},computed:{...(0,m.Se)({course:"currentCourse"})},mounted(){this.course||(this.loading=!0,p.Z.show(this.$route.params.id).then((e=>{h["default"].dispatch("setCurrentCourse",e),this.loading=!1})).catch((e=>{this.loading=!1})))},methods:{onSubmit(){b.Z.store({title:this.title,body:this.body,course_id:this.course.id}).then((e=>{this.$q.dialog({message:`Successfully sent announcement to ${this.course.title} students.`}).onOk((()=>{this.$router.push(`/courses/${this.course.id}/announcements`)})),this.loading=!1})).catch((e=>{this.loading=!1}))}}});var y=l(1007),q=l(1481),w=l(5926),f=l(3282),v=l(5269),k=l(4689),x=l(9991),Z=l(2165),C=l(7518),S=l.n(C);g.render=c;const W=g;S()(g,"components",{QPageSticky:y.Z,QBreadcrumbs:q.Z,QBreadcrumbsEl:w.Z,QSpinnerHourglass:f.Z,QForm:v.Z,QInput:k.Z,QEditor:x.Z,QBtn:Z.Z})}}]);