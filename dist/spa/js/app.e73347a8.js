(()=>{"use strict";var e={3227:(e,t,a)=>{a(5363),a(71);var o=a(8880),n=a(9592),i=a(3673);function r(e,t,a,o,n,r){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(s)}const s=(0,i.aZ)({name:"App"});s.render=r;const c=s;var l=a(8938),u=a(5);async function p(e,t){const o="function"===typeof l["default"]?await(0,l["default"])({}):l["default"],{storeKey:i}=await Promise.resolve().then(a.bind(a,8938)),r="function"===typeof u.Z?await(0,u.Z)({store:o}):u.Z;o.$router=r;const s=e(c);return s.use(n.Z,t),{app:s,store:o,storeKey:i,router:r}}var d=a(1791);const h={config:{},plugins:{Dialog:d.Z}},m="";async function f({app:e,router:t,store:a,storeKey:o},n){let i=!1;const r=e=>{i=!0;const a=Object(e)===e?t.resolve(e).fullPath:e;window.location.href=a},s=window.location.href.replace(window.location.origin,"");for(let l=0;!1===i&&l<n.length;l++)try{await n[l]({app:e,router:t,store:a,ssrContext:null,redirect:r,urlPath:s,publicPath:m})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==i&&(e.use(t),e.use(a,o),e.mount("#q-app"))}p(o.ri,h).then((e=>Promise.all([Promise.resolve().then(a.bind(a,5474))]).then((t=>{const a=t.map((e=>e.default)).filter((e=>"function"===typeof e));f(e,a)}))))},5474:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p,axios:()=>i.a,api:()=>u});var o=a(7083),n=a(52),i=a.n(n),r=a(5424),s=a(8938),c=a(5);s["default"].dispatch("checkAuthentication"),i().defaults.baseURL="http://api.learning.digital",i().defaults.headers.common.Accept="application/json";const l=[40102,40103];i().interceptors.response.use((e=>e),(e=>{if(401===e.response.status&&-1===e.response.request.responseURL.indexOf("retry=1")){const t=e.response.data.error.code;if(l.indexOf(t)>=0)return r.Z.logout(),Promise.reject(e);if(40104===t)return 1==c.N.currentRoute.value.meta.auth||0==Object.keys(c.N.currentRoute.value.meta).length?r.Z.token.getRefreshedToken(e.response):void 0}return Promise.reject(e)})),i().interceptors.request.use((e=>(localStorage.getItem("id_token")&&(e.headers.Authorization=`Bearer ${localStorage.getItem("id_token")}`),e)),(e=>Promise.reject(e)));const u=i().create(),p=(0,o.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=u}))},5:(e,t,a)=>{a.d(t,{Z:()=>d,N:()=>p});var o=a(7083),n=a(9582);a(71);const i={Admin:"admin",User:"student"},r=[{path:"/",component:()=>Promise.all([a.e(736),a.e(541)]).then(a.bind(a,6541)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(286)]).then(a.bind(a,1286))},{path:"account",component:()=>Promise.all([a.e(736),a.e(785)]).then(a.bind(a,8785))},{path:"search",component:()=>Promise.all([a.e(736),a.e(748)]).then(a.bind(a,6193))},{path:"course/:id",component:()=>Promise.all([a.e(736),a.e(480)]).then(a.bind(a,6480))},{path:"admin/courses",component:()=>Promise.all([a.e(736),a.e(756)]).then(a.bind(a,7756)),meta:{auth:!0,authorize:[i.Admin]}},{path:"admin/courses/create",component:()=>Promise.all([a.e(736),a.e(157)]).then(a.bind(a,5157)),meta:{auth:!0,authorize:[i.Admin]}},{path:"admin/courses/:id/edit",component:()=>Promise.all([a.e(736),a.e(157)]).then(a.bind(a,5157))},{path:"admin/courses/:course_id/sections",component:()=>Promise.all([a.e(736),a.e(967)]).then(a.bind(a,5967))},{path:"admin/courses/:course_id/sections/create",component:()=>Promise.all([a.e(736),a.e(277)]).then(a.bind(a,9277))},{path:"admin/courses/:course_id/sections/:id/edit",component:()=>Promise.all([a.e(736),a.e(277)]).then(a.bind(a,9277))}],meta:{auth:!0}},{path:"/login",component:()=>Promise.all([a.e(736),a.e(761)]).then(a.bind(a,761)),meta:{guest:!0}},{path:"/register",component:()=>Promise.all([a.e(736),a.e(545)]).then(a.bind(a,4545)),meta:{guest:!0}},{path:"/forgot-password",component:()=>Promise.all([a.e(736),a.e(708)]).then(a.bind(a,4708)),meta:{guest:!0}},{path:"/:catchAll(.*)*",component:()=>Promise.all([a.e(736),a.e(193)]).then(a.bind(a,2193))}],s=r;var c=a(8938);const l=(e,t,a)=>{if(e.matched.some((e=>e.meta.auth))){if(!c["default"].state.auth.authenticated)return a({path:"/login"});console.log(e.meta);const{authorize:t}=e.meta;if(t&&!t.includes(localStorage.getItem("role")))return a({path:"/"});if(0===Object.keys(c["default"].state.profile.account).length)return a();const{verified:o}=c["default"].state.profile.account;if(!o&&e.matched.some((e=>e.meta.emailVerificationRequired)))return a({path:"/"})}else if(e.matched.some((e=>e.meta.guest))&&c["default"].state.auth.authenticated)return a({path:"/"});return a()},u={beforeEach:l};let p=null;const d=(0,o.BC)((function(){const e=n.r5;return p=(0,n.p7)({scrollBehavior:()=>({left:0,top:0}),routes:s,history:e("")}),p.beforeEach(u.beforeEach),p}))},3643:(e,t,a)=>{a.d(t,{Z:()=>p});var o=a(8938),n=a(5474);const i=(e,t)=>{o["default"].dispatch("getAccount",e),t(e)},r=(e,t)=>{t(e)},s=()=>new Promise(((e,t)=>{n.axios.get("api/account").then((t=>{i(t.data,e)})).catch((e=>{r(e,t)}))}));a(5);const c=(e,t)=>{p.find().then((()=>{t()}))},l=(e,t)=>t(e.response.data),u=e=>new Promise(((t,a)=>{n.axios.put("api/account",e).then((e=>{c(e.data,t)})).catch((e=>{l(e,a)}))})),p={find:s,update:u}},5424:(e,t,a)=>{a.d(t,{Z:()=>R});var o=a(3643),n=a(8938),i=a(5),r=a(5474);const s=(e,t)=>{n["default"].dispatch("login",e),o.Z.find().then((()=>{i.N.push({path:"/"}),t()}))},c=(e,t)=>t(e.response),l=e=>new Promise(((t,a)=>{r.axios.post("api/login",e).then((e=>{s(e.data,t)})).catch((e=>{c(e,a)}))})),u=(e,t)=>{n["default"].dispatch("login",e),o.Z.find().then((()=>{i.N.push({path:"/"}),t()}))},p=(e,t)=>t(e.response),d=e=>new Promise(((t,a)=>{r.axios.post("api/signup",e).then((e=>{u(e.data,t)})).catch((e=>{p(e,a)}))})),h=()=>{n["default"].dispatch("logout"),i.N.push("/login")};var m=a(3058);const f=document.createEvent("Event");f.initEvent("onRefreshSuccess",!0,!0);const g=e=>(void 0!==e.config.params?e.config.params.retry=1:e.config.params={retry:1},new Promise(((t,a)=>{const o=n=>{document.removeEventListener(n.type,o,!1),r.axios.request(e.config).then((e=>t(e))).catch((e=>a(e)))};document.addEventListener("onRefreshSuccess",o)}))),b=(e,t)=>(document.dispatchEvent(f),localStorage.setItem("id_token",e.data.token),n["default"].dispatch("checkAuthentication"),n["default"].commit(m.PH,!1),r.axios.request(t.config)),v=e=>(n["default"].commit(m.PH,!1),40105===e.response.data.error.code?h():Promise.reject(e)),P=e=>n["default"].state.auth.refreshing?g(e):(n["default"].commit(m.PH,!0),r.axios.get("api/refresh").then((t=>b(t,e))).catch(v)),y={getRefreshedToken:P},E=(e,t)=>{t(e)},S=(e,t)=>{t(e)},T=()=>{const e=new Promise(((e,t)=>{r["default"].get("auth/resend-confirm").then((t=>{E(t.data,e)})).catch((e=>{S(e.response.data,t)}))}));return e},w=(e,t)=>{t(e)},C=(e,t)=>{t(e)},_=e=>new Promise(((t,a)=>{r.axios.post("api/password/reset_request",e).then((e=>{w(e.data,t)})).catch((e=>{C(e.response.data,a)}))})),k=(e,t)=>{t(e.data.success.message)},A=(e,t)=>{t(e)},O=e=>new Promise(((t,a)=>{r["default"].put("auth/update_password",e).then((e=>{k(e,t)})).catch((e=>{A(e.response.data,a)}))})),R={login:l,register:d,logout:h,token:y,resendConfirmation:T,resetPassword:_,updatePassword:O}},8938:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var o={};a.r(o),a.d(o,{checkAuthentication:()=>u,fetchAllBookmarks:()=>E,fetchAllCourses:()=>d,fetchAllSections:()=>g,fetchCourses:()=>p,fetchSearchResults:()=>b,fetchSections:()=>f,getAccount:()=>s,login:()=>c,logout:()=>l,resetCourses:()=>h,resetSections:()=>v,setCourseQuery:()=>m,setSectionQuery:()=>P,updateSection:()=>y});var n={};a.r(n),a.d(n,{account:()=>_,allBookmarks:()=>q,allCourses:()=>A,allSections:()=>N,courseQuery:()=>O,courses:()=>k,isAuthenticated:()=>T,isInMaintenance:()=>C,searchResults:()=>Z,sectionQuery:()=>j,sections:()=>R,sidebarStatus:()=>S,twoFactorVerification:()=>w});var i=a(7874),r=a(3058);const s=({commit:e},t)=>{e(r.CJ,t)},c=({commit:e},t)=>{e(r.ym,t)},l=({commit:e})=>{e(r.ri),e(r.Nv)},u=({commit:e})=>{e(r.Mb)},p=({commit:e},{courses:t,pagination:a})=>{e(r.lg,{courses:t,pagination:a})},d=({commit:e},t)=>{e(r.ZG,t)},h=({commit:e})=>{e(r.sc)},m=({commit:e},{page:t,limit:a,search:o})=>{e(r.Gz,{page:t,limit:a,search:o})},f=({commit:e},{sections:t,pagination:a})=>{e(r.bZ,{sections:t,pagination:a})},g=({commit:e},t)=>{e(r.Bd,t)},b=({commit:e},t)=>{e(r.cS,t)},v=({commit:e})=>{e(r.Pi)},P=({commit:e},{page:t,limit:a,search:o})=>{e(r.zN,{page:t,limit:a,search:o})},y=({commit:e},t)=>{e(r.Z_,t)},E=({commit:e},t)=>{e(r.wy,t)},S=e=>e.sidebar.status,T=e=>e.auth.authenticated,w=e=>e.auth.twoFactorVerification,C=e=>e.auth.maintenance,_=e=>e.profile.account,k=e=>({items:e.course.items,pagination:e.course.pagination}),A=e=>e.course.all,O=e=>e.course.query,R=e=>({items:e.section.items,pagination:e.section.pagination}),N=e=>e.section.all,Z=e=>e.section.searchResults,j=e=>e.section.query,q=e=>e.bookmark.all,x={account:{}},H={[r.CJ](e,t){e.account=t},[r.ri](e){e.account={}}},I={state:x,mutations:H},L={authenticated:!1},F={[r.Mb](e){e.authenticated=!!localStorage.getItem("id_token")},[r.ym](e,t){e.authenticated=!0,localStorage.setItem("id_token",t.token),localStorage.setItem("role",t.role)},[r.Nv](e){e.authenticated=!1,localStorage.removeItem("id_token")},[r.PH](e,t){e.refreshing=t}},U={state:L,mutations:F},B={all:[],items:[],pagination:{currentPage:1,lastPage:0,limit:5,totalCount:0},query:{page:1,limit:50,search:"",isSet:!1}};a(71);const z={[r.lg](e,{courses:t,pagination:a}){e.items=t,e.pagination=a},[r.U6](e,{courses:t,pagination:a}){e.items=[...e.items,...t],e.pagination=a},[r.sc](e){e.all=[],e.items=[],e.pagination={}},[r.ZG](e,t){e.all=t},[r.Gz](e,{page:t,limit:a,search:o}){e.query.page=t,e.query.limit=a,e.query.search=o,e.query.isSet=!0}},G={state:B,mutations:z},M={all:[],items:[],pagination:{currentPage:1,lastPage:0,limit:5,totalCount:0},query:{page:1,limit:50,search:"",isSet:!1},searchResults:[],searchText:""},Q={[r.bZ](e,{sections:t,pagination:a}){e.items=t,e.pagination=a},[r.iB](e,{sections:t,pagination:a}){e.items=[...e.items,...t],e.pagination=a},[r.Pi](e){e.all=[],e.items=[],e.searchResults=[],e.pagination={}},[r.Bd](e,t){e.all=t},[r.cS](e,t){e.searchResults=t},[r.zN](e,{page:t,limit:a,search:o}){e.query.page=t,e.query.limit=a,e.query.search=o,e.query.isSet=!0},[r.Z_](e,t){const a=e.all.findIndex((e=>e.id===t.id));-1!==a&&e.all.splice(a,1,t)},[r.TF](e,t){e.searchText=t}},K={state:M,mutations:Q},D={all:[],items:[],pagination:{currentPage:1,lastPage:0,limit:5,totalCount:0},query:{page:1,limit:50,search:"",isSet:!1}},$={[r.wy](e,t){e.all=t}},J={state:D,mutations:$},V=!1,Y=(0,i.MT)({actions:o,getters:n,modules:{profile:I,auth:U,course:G,section:K,bookmark:J},strict:V}),X=Y},3058:(e,t,a)=>{a.d(t,{CJ:()=>o,ri:()=>n,Mb:()=>i,PH:()=>r,Nv:()=>s,ym:()=>c,lg:()=>l,U6:()=>u,sc:()=>p,ZG:()=>d,Gz:()=>h,bZ:()=>m,iB:()=>f,Pi:()=>g,Bd:()=>b,zN:()=>v,Z_:()=>P,cS:()=>y,TF:()=>E,wy:()=>S});const o="GET_ACCOUNT",n="RESET_PROFILE",i="CHECK_AUTHENTICATION",r="UPDATE_REFRESHING",s="LOGOUT",c="LOGIN",l="FETCH_COURSES",u="APPEND_COURSES",p="RESET_COURSES",d="FETCH_ALL_COURSES",h="COURSE_QUERY",m="FETCH_SECTIONS",f="APPEND_SECTIONS",g="RESET_SECTIONS",b="FETCH_ALL_SECTIONS",v="SECTION_QUERY",P="UPDATE_SECTION",y="FETCH_SEARCH_RESULTS",E="SET_SEARCH_TEXT",S="FETCH_ALL_BOOKMARKS"}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,o,n,i)=>{if(!o){var r=1/0;for(u=0;u<e.length;u++){for(var[o,n,i]=e[u],s=!0,c=0;c<o.length;c++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](o[c])))?o.splice(c--,1):(s=!1,i<r&&(r=i));if(s){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,n,i]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,o)=>(a.f[o](e,t),t)),[]))})(),(()=>{a.u=e=>"js/"+e+"."+{157:"76a9b27b",193:"b72f1e39",277:"ff33e6c8",286:"c47d270f",480:"4311549a",541:"77698292",545:"31334c7b",708:"72ad8f26",748:"81533fdc",756:"e3fa403c",761:"5fbe7564",785:"163794ff",967:"66272bd3"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"31d6cfe0",736:"379737cd"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="learning-app:";a.l=(o,n,i,r)=>{if(e[o])e[o].push(n);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==o||p.getAttribute("data-webpack")==t+i){s=p;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[n];var d=(t,a)=>{s.onerror=s.onload=null,clearTimeout(h);var n=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(a))),t)return t(a)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p=""})(),(()=>{var e={143:0};a.f.j=(t,o)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var i=new Promise(((a,o)=>n=e[t]=[a,o]));o.push(n[2]=i);var r=a.p+a.u(t),s=new Error,c=o=>{if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,n[1](s)}};a.l(r,c,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[r,s,c]=o,l=0;if(r.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var u=c(a)}for(t&&t(o);l<r.length;l++)i=r[l],a.o(e,i)&&e[i]&&e[i][0](),e[r[l]]=0;return a.O(u)},o=self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[736],(()=>a(3227)));o=a.O(o)})();