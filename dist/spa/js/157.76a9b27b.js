"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[157],{2577:(t,e,a)=>{a.d(e,{Z:()=>P});var i=a(5474);const s=(t,{data:e})=>{t(e)},n=(t,e)=>{e(t)},r=t=>new Promise(((e,a)=>{i.axios.request({url:"/api/courses",data:t,method:"post"}).then((t=>{s(e,t)})).catch((t=>{n(t.response.data,a)}))})),o=(t,e)=>{e(t)},l=(t,e)=>{e(t)},c=(t,e)=>new Promise(((a,s)=>{i.axios.request({url:`/api/courses/${t}`,data:e,method:"put"}).then((t=>{o(t.data,a)})).catch((t=>{l(t.response.data,s)}))}));var d=a(8938),h=a(5314),p=a(3305);const u=({data:t},e,a)=>{const i=t,s=h.Z.fetch(t.pagination);d["default"].dispatch("fetchCourses",{courses:i,pagination:s}),a({courses:i,pagination:s})},m=(t,e)=>e(t),g=(t={})=>new Promise(((e,a)=>{i.axios.get(p.Z.buildUrl("/api/courses",t)).then((a=>{u(a,t,e)})).catch((t=>{m(t,a)}))})),b=({data:t},e)=>{d["default"].dispatch("fetchAllCourses",t),e(t)},f=(t,e)=>e(t),w=(t=null)=>new Promise(((e,a)=>{i.axios.get(null===t?"/api/courses":`/api/courses?search=${t}`).then((t=>{b(t,e)})).catch((t=>{f(t,a)}))})),v=(t,e)=>{e(t)},Z=(t,e)=>{e(t)},$=t=>new Promise(((e,a)=>{i.axios.get(`/api/courses/${t}`).then((t=>{v(t.data,e)})).catch((t=>{Z(t.response.data,a)}))})),q=(t,e)=>{w(),e(t)},_=(t,e)=>{e(t)},C=t=>new Promise(((e,a)=>{i.axios["delete"](`/api/courses/${t}`).then((t=>{q(t.data,e)})).catch((t=>{_(t.response.data,a)}))})),P={store:r,update:c,items:g,all:w,show:$,destroy:C}},5314:(t,e,a)=>{a.d(e,{Z:()=>s});class i{static fetchCollection(t){return t.map((t=>this.fetch(t)))}static sendCollection(t){return t.map((t=>this.send(t)))}}class s extends i{static fetch(t){return{currentPage:t.current_page,lastPage:t.last_page,limit:t.limit,totalCount:t.total_count,counters:t.counters}}static send(t){return{current_page:t.currentPage,last_page:t.lastPage,limit:t.limit,total_count:t.totalCount}}}},3305:(t,e,a)=>{a.d(e,{Z:()=>i});const i={buildUrl(t,e){let a="?";const i=Object.keys(e).filter((t=>e[t]));return i.forEach(((t,s)=>{a+=`${t}=${e[t]}`,s<i.length-1&&(a+="&")})),`${t}${a}`},debounce(t,e){var a=null;return function(){clearTimeout(a);var i=arguments,s=this;a=setTimeout((function(){t.apply(s,i)}),e)}}}},5157:(t,e,a)=>{a.r(e),a.d(e,{default:()=>b});a(246);var i=a(3673),s=a(2323);const n={class:"q-pa-md"},r={class:"text-h5 q-py-md"},o={class:"q-gutter-lg q-pa-lg"};function l(t,e,a,l,c,d){const h=(0,i.up)("q-input"),p=(0,i.up)("q-btn"),u=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",r,(0,s.zw)(t.id?"Update":"Create")+" Course",1),(0,i.Wm)(u,{onSubmit:t.onSubmit,onReset:t.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{filled:"",modelValue:t.title,"onUpdate:modelValue":e[0]||(e[0]=e=>t.title=e),label:"Title *","lazy-rules":"",rules:[t=>t&&t.length>0||"Title is required"]},null,8,["modelValue","rules"]),(0,i.Wm)(h,{modelValue:t.description,"onUpdate:modelValue":e[1]||(e[1]=e=>t.description=e),filled:"",type:"textarea",label:"Description"},null,8,["modelValue"]),(0,i._)("div",o,[(0,i.Wm)(p,{label:"Submit",type:"submit",color:"primary"}),(0,i.Wm)(p,{label:"Back",type:"submit",to:"/admin/courses"})])])),_:1},8,["onSubmit","onReset"])])}var c=a(2577);const d=(0,i.aZ)({name:"AdminCourseForm",data(){return{id:"",title:"",description:""}},created(){this.$route.params.id&&c.Z.show(this.$route.params.id).then((t=>{this.id=t.id,this.title=t.title,this.description=t.description,this.loading=!1})).catch((t=>{this.loading=!1}))},methods:{onSubmit(){this.id?this.update():this.save()},save(){c.Z.store({title:this.title,description:this.description}).then((t=>{this.loading=!1,this.$router.push("/admin/courses")})).catch((t=>{this.loading=!1}))},update(){c.Z.update(this.id,{title:this.title,description:this.description}).then((t=>{this.loading=!1,this.$router.push("/admin/courses")})).catch((t=>{this.loading=!1}))},onReset(){}}});var h=a(5269),p=a(4842),u=a(2165),m=a(7518),g=a.n(m);d.render=l;const b=d;g()(d,"components",{QForm:h.Z,QInput:p.Z,QBtn:u.Z})}}]);