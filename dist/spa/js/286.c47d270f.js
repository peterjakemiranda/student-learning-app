"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[286],{6952:(t,a,e)=>{e.d(a,{Z:()=>h});var o=e(5474);const s=(t,a)=>{a(t)},l=(t,a)=>{a(t)},n=(t,a)=>new Promise(((e,n)=>{o.axios.post(`/api/bookmarks/${t}`,{bookmark:a}).then((t=>{s(t.data,e)})).catch((t=>{l(t.response.data,n)}))}));var i=e(8938);const r=({data:t},a)=>{i["default"].dispatch("fetchAllBookmarks",t),a(t)},c=(t,a)=>a(t),d=()=>new Promise(((t,a)=>{o.axios.get("/api/bookmarks").then((a=>{r(a,t)})).catch((t=>{c(t,a)}))})),p=(t,a)=>{d(),a(t)},m=(t,a)=>{a(t)},u=t=>new Promise(((a,e)=>{o.axios["delete"](`/api/bookmarks/${t}`).then((t=>{p(t.data,a)})).catch((t=>{m(t.response.data,e)}))})),h={all:d,bookmark:n,destroy:u}},2577:(t,a,e)=>{e.d(a,{Z:()=>W});var o=e(5474);const s=(t,{data:a})=>{t(a)},l=(t,a)=>{a(t)},n=t=>new Promise(((a,e)=>{o.axios.request({url:"/api/courses",data:t,method:"post"}).then((t=>{s(a,t)})).catch((t=>{l(t.response.data,e)}))})),i=(t,a)=>{a(t)},r=(t,a)=>{a(t)},c=(t,a)=>new Promise(((e,s)=>{o.axios.request({url:`/api/courses/${t}`,data:a,method:"put"}).then((t=>{i(t.data,e)})).catch((t=>{r(t.response.data,s)}))}));var d=e(8938),p=e(5314),m=e(3305);const u=({data:t},a,e)=>{const o=t,s=p.Z.fetch(t.pagination);d["default"].dispatch("fetchCourses",{courses:o,pagination:s}),e({courses:o,pagination:s})},h=(t,a)=>a(t),k=(t={})=>new Promise(((a,e)=>{o.axios.get(m.Z.buildUrl("/api/courses",t)).then((e=>{u(e,t,a)})).catch((t=>{h(t,e)}))})),b=({data:t},a)=>{d["default"].dispatch("fetchAllCourses",t),a(t)},g=(t,a)=>a(t),w=(t=null)=>new Promise(((a,e)=>{o.axios.get(null===t?"/api/courses":`/api/courses?search=${t}`).then((t=>{b(t,a)})).catch((t=>{g(t,e)}))})),f=(t,a)=>{a(t)},y=(t,a)=>{a(t)},_=t=>new Promise(((a,e)=>{o.axios.get(`/api/courses/${t}`).then((t=>{f(t.data,a)})).catch((t=>{y(t.response.data,e)}))})),x=(t,a)=>{w(),a(t)},q=(t,a)=>{a(t)},Z=t=>new Promise(((a,e)=>{o.axios["delete"](`/api/courses/${t}`).then((t=>{x(t.data,a)})).catch((t=>{q(t.response.data,e)}))})),W={store:n,update:c,items:k,all:w,show:_,destroy:Z}},5314:(t,a,e)=>{e.d(a,{Z:()=>s});class o{static fetchCollection(t){return t.map((t=>this.fetch(t)))}static sendCollection(t){return t.map((t=>this.send(t)))}}class s extends o{static fetch(t){return{currentPage:t.current_page,lastPage:t.last_page,limit:t.limit,totalCount:t.total_count,counters:t.counters}}static send(t){return{current_page:t.currentPage,last_page:t.lastPage,limit:t.limit,total_count:t.totalCount}}}},3305:(t,a,e)=>{e.d(a,{Z:()=>o});const o={buildUrl(t,a){let e="?";const o=Object.keys(a).filter((t=>a[t]));return o.forEach(((t,s)=>{e+=`${t}=${a[t]}`,s<o.length-1&&(e+="&")})),`${t}${e}`},debounce(t,a){var e=null;return function(){clearTimeout(e);var o=arguments,s=this;e=setTimeout((function(){t.apply(s,o)}),a)}}}},1286:(t,a,e)=>{e.r(a),e.d(a,{default:()=>Q});e(246);var o=e(3673),s=e(2323),l=e(8880);const n={key:0,class:"text-center q-pt-xl"},i={key:1},r={key:0,class:"text-center q-pt-xl"},c={key:1},d={key:1,class:"text-body2 text-center q-pa-lg text-grey-6"};function p(t,a,e,p,m,u){const h=(0,o.up)("q-tab"),k=(0,o.up)("q-tabs"),b=(0,o.up)("q-page-sticky"),g=(0,o.up)("q-separator"),w=(0,o.up)("q-spinner-bars"),f=(0,o.up)("q-item-label"),y=(0,o.up)("q-item-section"),_=(0,o.up)("q-icon"),x=(0,o.up)("q-item"),q=(0,o.up)("q-list"),Z=(0,o.up)("q-tab-panel"),W=(0,o.up)("q-btn"),v=(0,o.up)("q-tab-panels");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{expand:"",position:"top",style:{"z-index":"1"}},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{modelValue:t.tab,"onUpdate:modelValue":a[0]||(a[0]=a=>t.tab=a),"narrow-indicator":"","active-color":"blue-8",class:"bg-grey-1 full-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"mylearning",label:"My Learning",icon:"menu_book"}),(0,o.Wm)(h,{name:"bookmarks",label:"My Bookmarks",icon:"star"})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(g),(0,o.Wm)(v,{modelValue:t.tab,"onUpdate:modelValue":a[1]||(a[1]=a=>t.tab=a),animated:"","virtual-scroll":"",style:{"padding-top":"68px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{name:"mylearning",class:"q-pa-xs"},{default:(0,o.w5)((()=>[t.learningLoading?((0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(w,{color:"primary",size:"2em"})])):((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(q,{class:"q-pa-sm",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.courses,(a=>((0,o.wg)(),(0,o.j4)(x,{to:`/course/${a.id}`,key:a.id},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"text-weight-bold text-subtitle1"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.title),1)])),_:2},1024),(0,o.Wm)(f,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.titleCase(a.description)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(y,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"local_library"})])),_:1})])),_:2},1032,["to"])))),128))])),_:1})]))])),_:1}),(0,o.Wm)(Z,{name:"bookmarks",class:"q-pa-xs"},{default:(0,o.w5)((()=>[t.bookmarkLoading?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(w,{color:"primary",size:"2em"})])):((0,o.wg)(),(0,o.iD)("div",c,[t.bookmarks.length?((0,o.wg)(),(0,o.j4)(q,{key:0,class:"q-pa-sm",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.bookmarks,(a=>((0,o.wg)(),(0,o.j4)(x,{clickable:"",onClick:(0,l.iM)((e=>t.viewCourse(a)),["prevent"]),key:a.id},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"text-subtitle1"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"star",color:"yellow-9",class:"q-pa-xs"}),(0,o._)("span",null,(0,s.zw)(t.titleCase(a.title)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(y,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{flat:"",icon:"delete",clickable:"",onClick:(0,l.iM)((e=>t.deleteBookmark(a.id)),["stop"])},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,o.wg)(),(0,o.iD)("div",d," No bookmarks yet. "))]))])),_:1})])),_:1},8,["modelValue"])])}var m=e(7874),u=e(2577),h=e(6952);e(2130);const k=(0,o.aZ)({name:"PageIndex",data(){return{tab:"mylearning",learningLoading:!1,bookmarkLoading:!1}},computed:{...(0,m.Se)({courses:"allCourses",bookmarks:"allBookmarks"})},mounted(){this.learningLoading=!0,u.Z.all().then((t=>{this.learningLoading=!1})).catch((t=>{this.learningLoading=!1}))},methods:{titleCase(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})).join(" ")},viewCourse(t){console.log(t),this.$router.push(`/course/${t.course_id}#section-${t.section_id}`)},deleteBookmark(t){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this bookmark?",cancel:!0,persistent:!0}).onOk((()=>{h.Z.destroy(t).then((t=>{this.loading=!1})).catch((t=>{this.loading=!1}))}))}},watch:{tab(t){"bookmarks"===t&&(this.bookmarkLoading=!0,h.Z.all().then((t=>{this.bookmarkLoading=!1})).catch((t=>{this.bookmarkLoading=!1})))}}});var b=e(1007),g=e(7547),w=e(3269),f=e(5869),y=e(5906),_=e(6602),x=e(4752),q=e(7011),Z=e(3414),W=e(2035),v=e(2350),C=e(4554),P=e(2165),$=e(7518),L=e.n($);k.render=p;const Q=k;L()(k,"components",{QPageSticky:b.Z,QTabs:g.Z,QTab:w.Z,QSeparator:f.Z,QTabPanels:y.Z,QTabPanel:_.Z,QSpinnerBars:x.Z,QList:q.Z,QItem:Z.Z,QItemSection:W.Z,QItemLabel:v.Z,QIcon:C.Z,QBtn:P.Z})}}]);