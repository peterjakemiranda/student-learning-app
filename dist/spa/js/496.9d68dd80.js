"use strict";(self["webpackChunklearning_app"]=self["webpackChunklearning_app"]||[]).push([[496],{4496:(t,e,s)=>{s.r(e),s.d(e,{default:()=>C});var o=s(3673),i=s(2323);const n={class:"q-pa-md"},l={class:"text-h5 q-py-md"},u={class:"q-gutter-lg q-pa-lg"};function r(t,e,s,r,a,d){const c=(0,o.up)("q-select"),h=(0,o.up)("q-input"),m=(0,o.up)("q-editor"),p=(0,o.up)("q-btn"),g=(0,o.up)("q-form");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",l,(0,i.zw)(t.id?"Update":"Create")+" Section",1),(0,o.Wm)(g,{onSubmit:t.onSubmit,onReset:t.onReset,class:"q-gutter-md",style:{"max-width":"800px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{filled:"","map-options":"",modelValue:t.course,"onUpdate:modelValue":e[0]||(e[0]=e=>t.course=e),options:t.courseOptions,label:"Course"},null,8,["modelValue","options"]),(0,o.Wm)(h,{filled:"",modelValue:t.title,"onUpdate:modelValue":e[1]||(e[1]=e=>t.title=e),label:"Title"},null,8,["modelValue"]),(0,o.Wm)(m,{toolbar:[["left","center","right","justify","bold","italic","underline","hr","link","quote","unordered","ordered","outdent","indent"],[{label:t.$q.lang.editor.formatting,icon:t.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]}],["undo","redo"],["viewsource"]],modelValue:t.content,"onUpdate:modelValue":e[2]||(e[2]=e=>t.content=e),filled:"",label:"Content *","lazy-rules":"",rules:[t=>t&&t.length>0||"Content is required"]},null,8,["toolbar","modelValue","rules"]),(0,o._)("div",u,[(0,o.Wm)(p,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(p,{label:"Back",type:"submit",to:`/admin/courses/${t.$route.params.course_id}/sections`},null,8,["to"])])])),_:1},8,["onSubmit","onReset"])])}var a=s(2176),d=s(5977),c=s(7874);const h=(0,o.aZ)({name:"AdminSectionForm",data(){return{id:"",title:"",content:"",course:""}},computed:{...(0,c.Se)({courses:"allCourses",sections:"allSections"}),courseOptions(){return this.courses.map((t=>({label:t.title,value:t.id})))}},mounted(){this.courses.length?this.setCurrentCourse():a.Z.all().then((t=>{this.loading=!1,this.setCurrentCourse()})).catch((t=>{this.loading=!1})),this.$route.params.id&&d.Z.show(this.$route.params.id).then((t=>{this.id=t.id,this.title=t.title,this.content=t.content,this.loading=!1})).catch((t=>{this.loading=!1}))},methods:{onSubmit(){this.id?this.update():this.save()},save(){d.Z.store({title:this.title,content:this.content,course_id:this.course.value}).then((t=>{this.loading=!1,this.$router.push(`/admin/courses/${this.$route.params.course_id}/sections`)})).catch((t=>{this.loading=!1}))},update(){d.Z.update(this.id,{title:this.title,content:this.content,course_id:this.course.value}).then((t=>{this.loading=!1,this.$router.push(`/admin/courses/${this.$route.params.course_id}/sections`)})).catch((t=>{this.loading=!1}))},setCurrentCourse(){this.course=this.courseOptions.find((t=>+t.value===+this.$route.params.course_id))},onReset(){}},watch:{courses(t){}}});var m=s(5269),p=s(7757),g=s(4689),b=s(9991),f=s(2165),q=s(7518),v=s.n(q);h.render=r;const C=h;v()(h,"components",{QForm:m.Z,QSelect:p.Z,QInput:g.Z,QEditor:b.Z,QBtn:f.Z})}}]);